{"posts":[{"title":"hexoguide","text":"Hexo 博客常见问题图片问题 参考 https://github.com/cocowool/hexo-image-link 安装hexo-image-link 新建博客 hexo new name Hexo gitee 搭建博客必须的软件：node.js node.js官方网站：http://nodejs.cn/download/ node.js阿里云镜像站：https://npm.taobao.org/mirrors/node/ Git Git官网(下载速度可能稍慢)：https://git-scm.com/ Git阿里云镜像站（推荐）：https://npm.taobao.org/mirrors/git-for-windows/ 可根据个人喜好替换的软件：Visual Studio Code 官方网站：https://code.visualstudio.com/Download typora 官方网站：https://www.typora.io/ 以上软件若你下载速度慢，可以在这篇文章底部找到我已经下载好了的国内链接，链接里不定期更新以上软件的版本（保证均从官网下载下来不做任何修改）。当然最好是自己去官网下，因为我懒，更新不会很频繁，除非你催我一下（发邮件或者其他什么的）…… 要用到的框架或平台：Hexo 官方网站：https://hexo.io/zh-cn/ Gitee（码云） 官方网站：https://gitee.com/ 安装说明node.js和Typora就不说了，这个灰常简单。 至于Git，它安装的时候选项挺多的，而且还都是洋文，看不懂的话就全部选 next 就行了。你要是非得搞明白它每个选项的意思，emmmm那建议你们自己去搜吧，网上一搜一大把。我反正是不知道每项的意思，（全是废话…）我也不想知道~/手动狗头 检验是否成功安装用 Win + R 打开运行，输入 cmd 并进入cmd窗口 node.js 的检查1node -v npm的检查NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题 1npm -v Git 的检查1git --version 以上有显示版本号，则说明安装成功 Hexo的安装1、安装之前可以先设置一下淘宝镜像加速器1npm install -g cnpm --registry=https://registry.npm.taobao.org 2、全局安装框架1npm install hexo-cli -g 3-1、创建你的博客目录1hexo init 你博客的文件夹名字 3-2、进入你博客的目录1cd 你博客的文件夹名字 4、复制文件到你博客的目录1npm install 5、安装Hexo部署插件请在你博客的目录下启动cmd，再执行以下代码 1npm install hexo-deployer-git --save Git的配置用 Win + R 打开运行，输入 cmd 并进入cmd 设置用户名称1git config --global user.name &quot;用户名&quot; 设置用户邮箱1git config --global user.email &quot;用户邮箱&quot; 生成密钥1ssh-keygen -t rsa -C &quot;用户邮箱&quot; 以上代码执行之后，会让你设置密码，推荐一个都不要设置，直接连按三次回车键。 博客 _config.yml 文件的配置打开你博客根目录的 _config.yml 文件，将一下信息添加到里面去。 1234567deploy: type: git repo: https://gitee.com/hcllmsx/hcllmsx.git #替换成你自己仓库的HTTP URL地址 branch: master 【注意区分】你博客根目录的 _config.yml 文件，和主题根目录的 _config.yml 文件！ Hexo常用代码1、清理缓存1hexo cl hexo cl 是 hexo clean 的简写 2、生成静态页面1hexo g hexo g 是 hexo generate 的简写 3、在本地映射（预览）1hexo s hexo s 是 hexo server 的简写 4、部署推送1hexo d hexo d 是 hexo deploy 的简写 5、以上连写示例一（清理缓存 + 生成静态页面 + 在本地预览）1hexo cl &amp;&amp; hexo g &amp;&amp; hexo s 6、以上连写示例二（清理缓存 + 生成静态页面 + 部署推送）1hexo cl &amp;&amp; hexo g &amp;&amp; hexo d 资源下载由于国内打开国外网站的速度有时候是看运气的，所以如果你下载很慢……可以选择下载我这里下载好的。另外，新建文章的通用模板也在里面，有了它可能会非（mei）常（you）方（luan）便（yong）。最后再再再再重申一次，尽量还是自己下载最新版，因为我更新挺懒的，除非你催我。 链接：https://msx.lanzoui.com/b0ewfyypa 密码：3t1u","link":"/blog/2022/10/23/hexoguide/"},{"title":"numpy","text":"指定顺序排序1234list_custom = ['337城市',&quot;京津冀及周边&quot;,&quot;汾渭平原&quot;, '长三角', &quot;成渝地区&quot;,&quot;珠三角&quot;]regiondata['Region'] = regiondata['Region'].astype('category')regiondata['Region'].cat.reorder_categories(list_custom, inplace=True)regiondata.sort_values('Region', inplace=True) 合并数组12np.column_stack((a,b)) #作为列合并np.row_stack((a,b)) # 作为行 拼接两段数据12345678910111213141516171819202122232425262728data2 = f.loc['2017-06-01':'2017-08-30']data3 = f.loc['2017-09-01':'2017-11-30']data1 = f.loc['2017-03-01':'2017-05-31']data4 = f.loc['2017-01-01':'2017-02-28']data5 = f.loc['2017-12-01':'2017-12-31']data0 = pd.concat([data4,data5])&gt;&gt;&gt; a=np.array([[1,2,3],[4,5,6]])&gt;&gt;&gt; b=np.array([[11,21,31],[7,8,9]])&gt;&gt;&gt; np.concatenate((a,b),axis=0)array([[ 1, 2, 3], [ 4, 5, 6], [11, 21, 31], [ 7, 8, 9]])&gt;&gt;&gt; np.concatenate((a,b),axis=1) #axis=1表示对应行的数组进行拼接array([[ 1, 2, 3, 11, 21, 31], [ 4, 5, 6, 7, 8, 9]])ax.plot(pm25[0:59],data[0:59,10],'.',c='k',alpha=0.5,label='Winter')ax.plot(pm25[334:365],data[334:365,10],'.',c='k',alpha=0.5)ax.plot(pm25[59:151],data[59:151,10],'.',c='b',alpha=0.5,label='Spring')ax.plot(pm25[151:243],data[151:243,10],'.',c='g',alpha=0.5,label='Summer')ax.plot(pm25[243:334],data[243:334,10],'.',c='r',alpha=0.5,label='Autumn')winter = np.concatenate((arrs[0:59],arrs[334:365]),axis=0)spring = arrs[59:151]summer = arrs[151:243]autumn = arrs[243:334] 日期12345678910111213df = pd.read_csv(fname,index_col=&quot;datetime&quot;)df.index = pd.to_datetime(df.index,format=&quot;%Y-%m-%d&quot;)df.index.month # 获取月份df.index.year # 获取年份df.loc['2000-6-1':'2000-6-10'] # 切片df[df.index.month.isin([5, 6, 7, 8, 9, 10])] # 按月份切片# 时区转换df.index = pd.to_datetime(df.time,format=&quot;%Y-%m-%dT%H:%M:%S&quot;, utc=True)df.index.tz_convert('Asia/Shanghai') 某个月的开始和结束日期 123from dateutil.relativedelta import relativedeltastart = datetime.datetime.strptime(&quot;2017-%s-01&quot; %mon,&quot;%Y-%m-%d&quot;)end = start + relativedelta(months=+1) + datetime.timedelta(days=-1) 时区转换 1data.index = pd.to_datetime(data.index,format='%Y%j%H').tz_localize('UTC').tz_convert(&quot;Asia/Shanghai&quot;) 设置时间格式 1res.index = res.index.strftime('%Y-%m-%d') 常见123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566# 经过pandas 读取后, 再写出,部分数据小数位数超长# 在read_csv时, 加入参数float_precision=“round_trip”, 所有数据会当做string读取, 使用时再进行相应的转换为floatdf = pd.read_csv('%s/%s_%s_%s.csv' %(outputdir, region, var, YYYYMM),float_precision=&quot;round_trip&quot;)# 三维计算相关系数def pearsonr_2D(x, y): &quot;&quot;&quot;computes pearson correlation coefficient where x is a 1D and y a 2D array&quot;&quot;&quot; upper = np.sum((x - np.mean(x,axis=0)) * (y - np.mean(y, axis=0)), axis=0) lower = np.sqrt(np.sum(np.power(x - np.mean(x,axis=0), 2),axis=0) * np.sum(np.power(y - np.mean(y, axis=0), 2), axis=0)) rho = upper / lower return rhoA = np.array([[[1,3,4],[4,6,5]],[[5,7,8],[1,2,23]],[[3,9,4],[5,7,5]]])B = np.array([[[7,1,3],[14,4,2]],[[15,6,1],[6,7,91]],[[3,9,4],[5,7,5]]])c = pearsonr_2D(A,B)for i,region in enumerate(region): print(i,region)# 创建dataframe追加行数据df = pd.DataFrame(columns = [&quot;ebayno&quot;, &quot;p_sku&quot;, &quot;sale&quot;, &quot;sku&quot;]) #创建一个空的dataframe df = df.append(dframe1.loc[dframe1.p_sku == ps], ignore_index=True) #忽略索引,往dataframe中插入一行数据 df = df.append([{'site':site,'MB':mb,'NMB':nmb,'NME':nme,'r2':r2}],ignore_index=True)来自 &lt;http://blog.csdn.net/zn505119020/article/details/77324029&gt; 合并df = pd.concat([inputdf,classdf],axis=1)根据分组统计，对不同行操作gp_col = 'SITE'df_max = obs.groupby(gp_col)[species].max()df_min = obs.groupby(gp_col)[species2].min()插入列 insert（位置，列名，数据）df_max.insert(0,&quot;站点&quot;,sitename)DataFrame 切片操作，loc, ilocprint df.loc[1:3, ['total_bill', 'tip']]print df.loc[1:3, 'tip': 'total_bill'] print df.iloc[1:3, [1, 2]] print df.iloc[1:3, 1: 3]来自 &lt;https://blog.csdn.net/ly_ysys629/article/details/55224284&gt; 读取csvpd.read_csv(&quot;filename&quot;,sep=',',header=None,index=False) # sep 分隔符obs = pd.read_csv(&quot;d04_chem.txt&quot;,delim_whitespace = True) 空格分割csv编码问题： VS code先用正确编码打开（GB…?），然后保存为正常编码（能正确显示GB…），然后重新保存为UTF-8格式，读取正常。获取数据框列名print(df.columns) 获取数据框列df[&quot;column-name&quot;]选取行df[df[&quot;column-name&quot;]==&quot;spec-name&quot;]选取数据df.column[index]df.ix[0,1]列表转换成dataframedf = pd.DataFrame([w1_p,w2_p,w3_p,w4_p],index=['w1_pre','w2_pre','w3_pre','w4_pre'])修改dataframe的列名df.columns=['site','time','aqi','so2','no2','pm10','co','o3','pm2_5'] 查找12cname = allsite.query(&quot;Area == @city&quot;).iloc[0,4]cname = allsite.query(&quot;Area == '北京'&quot;).iloc[0,0] list 转 data frame12345keys = [&quot;price&quot;,&quot;toalAmount&quot;]values = [&quot;0.01&quot;,&quot;10000&quot;] d = dict(zip(keys,values))pd.DataFrame([dict(zip(columns,temp))],columns=columns,index=None) 等差数列1cticks = np.linspace(zmin, zmax, num=11, dtype=int) mask12345678910def regionmean(lat,lon,data,corners): llcrnrlon,urcrnrlon,llcrnrlat, urcrnrlat = corners mask = np.where((lat&lt;urcrnrlat)&amp;(lat&gt;llcrnrlat)&amp;(lon&lt;urcrnrlon)&amp;(lon&gt;llcrnrlon),1,0) if(len(data.shape)==3): mask3d = np.broadcast_arrays(mask[np.newaxis,:,:],data)[0] datamask = np.ma.masked_where(mask3d!=1, data) return np.nanmean(np.nanmean(datamask,axis=1),axis=1) else: datamask = np.ma.masked_where(mask!=1, data) return np.nanmean(datamask.flatten()) 对应元素运算123456a = np.array([[1, 2]])b = np.array([[2, 4]])r1 = a + b # [[3 6]]r2 = a - b # [[-1 -2]]r3 = a * b # [[2 8]]r4 = a / b # [[0.5 0.5]] 画图平滑1234567x = np.linspace(0,31,31); print(x)y = np.sum(data,axis=1)x_new = np.linspace(0,31,100)tck = interpolate.splrep(x,y)y_bspline = interpolate.splev(x_new,tck)ax2.plot(x,y,&quot;wo&quot;,ms=3)ax2.plot(x_new,y_bspline,'w-',linewidth=0.5)","link":"/blog/2022/10/23/numpy/"},{"title":"hexo备份","text":"Hexo博客如何备份到GithubHexo博客备份创建新分支在Github上博客仓库下创建一个新的分支hexo，并且将这个分支设置为默认分支，具体操作如下： 20220511_03.png 20220511_04.png 20220511_05.png 克隆hexo分支在本地把我们刚建的分支hexo克隆到本地： 20220511_06.png 把克隆下来的项目里面的.git文件复制到我们的Hexo博客目录下: 20220511_07.png 注意：如果之前搭建博客的时候自己更换过主题文件的，请把主题文件里面的.git文件删除。 开始备份进入到Blogs根目录下，执行如下命令： 123git add .git commit -m &quot;Blog源文件备份&quot;git push origin hexo 这时候我们会看到Github上的hexo 分支就有我们的源文件了。 20220511_08.png 如果你想要每次更改东西都希望备份到hexo 分支上，可以执行如下步骤： 12345hexo cleangit add .git commit -m &quot;备份&quot;git pushhexo g &amp; hexo d 如何恢复博客假如我们现在更换了电脑，希望在新的电脑上继续写博客，把Github上hexo分支上的项目克隆到本地（注意：是我们备份的那个分支） 进入到克隆下来的文件夹，执行如下命令： 12npm install hexo-clinpm install hexo-deployer-git 然后再去安装主题相关的插件即可，当然如果你电脑上还没有 Node.js等环境的话可能还需要去安装相关的环境。现在我们就基本上可以在另一台电脑上继续我们的博客之旅啦～","link":"/blog/2022/10/23/hexo%E5%A4%87%E4%BB%BD/"}],"tags":[{"name":"other","slug":"other","link":"/blog/tags/other/"},{"name":"data analysis","slug":"data-analysis","link":"/blog/tags/data-analysis/"}],"categories":[{"name":"hexo","slug":"hexo","link":"/blog/categories/hexo/"},{"name":"python","slug":"python","link":"/blog/categories/python/"}],"pages":[{"title":"about","text":"","link":"/blog/about/index.html"},{"title":"categories","text":"","link":"/blog/categories/index.html"},{"title":"tags","text":"","link":"/blog/tags/index.html"}]}